<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Detalle del Profesor</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <nav class="navbar">
        <div class="navbar-logo">Instituto</div>
        <div class="navbar-links">
            <a href="/">Inicio</a>
            <a href="/alumnos">Alumnos</a>
            <a href="/profesores">Profesores</a>
            <a href="/materias">Materias</a>
            <a href="/carreras">Carreras</a>
            <a href="/logout">Cerrar sesi√≥n</a>
        </div>
    </nav>
    <div class="container">
        <h2>Detalle del Profesor</h2>

        <!-- Mensajes de √©xito o error -->
        <div th:if="${successMessage}" class="alert alert-success">
            <p th:text="${successMessage}"></p>
        </div>
        <div th:if="${errorMessage}" class="alert alert-danger">
            <p th:text="${errorMessage}"></p>
        </div>

        <div th:if="${profesor != null}">
            <ul class="detalle-list">
                <li><strong>Nombre:</strong> <span th:text="${profesor.nombre}"></span></li>
                <li><strong>Apellido:</strong> <span th:text="${profesor.apellido}"></span></li>
                <li><strong>DNI:</strong> <span th:text="${profesor.dni}"></span></li>
                <li><strong>Fecha de Nacimiento:</strong> <span th:text="${profesor.fechaNacimiento}"></span></li>
                <li><strong>Edad:</strong> <span th:text="${profesor.edad}"></span></li>
                <li><strong>Sexo:</strong> <span th:text="${profesor.sexo}"></span></li>
                <li><strong>Email:</strong> <span th:text="${profesor.email}"></span></li>
                <li><strong>Tel√©fono:</strong> <span th:text="${profesor.telefono}"></span></li>
                <li><strong>Domicilio:</strong> <span th:text="${profesor.domicilio}"></span></li>
                <li><strong>N√∫mero:</strong> <span th:text="${profesor.nro}"></span></li>
                <li><strong>Piso:</strong> <span th:text="${profesor.piso}"></span></li>
                <li><strong>C√≥digo Postal:</strong> <span th:text="${profesor.codigoPostal}"></span></li>
                <li><strong>Localidad:</strong> <span th:text="${profesor.localidad}"></span></li>
                <li><strong>Partido:</strong> <span th:text="${profesor.partida}"></span></li>
                <li><strong>Foja:</strong> <span th:text="${profesor.foja}"></span></li>
                <li><strong>CertificadoAF:</strong> <span th:text="${profesor.certificadoAF}"></span></li>
                <li><strong>Lugar de Nacimiento:</strong> <span th:text="${profesor.lugarNacimiento}"></span></li>
                <li><strong>Pa√≠s:</strong> <span th:text="${profesor.pais}"></span></li>
            </ul>

            <!-- Secci√≥n de Materias Asignadas -->
            <h3>Materias Asignadas</h3>
            <div th:if="${profesor.materias == null or #lists.isEmpty(profesor.materias)}" class="alert">
                <p>Este profesor no tiene materias asignadas.</p>
            </div>
            <div th:if="${profesor.materias != null and not #lists.isEmpty(profesor.materias)}">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>A√±o</th>
                            <th>Carrera</th>
                            <th>Carga Horaria</th>
                            <th>Hora Total</th>
                            <th>Fecha de Alta</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="materia : ${profesor.materias}">
                            <td th:text="${materia.nombre}"></td>
                            <td th:text="${materia.anio}"></td>
                            <td th:text="${materia.carrera != null ? materia.carrera.nombre : 'Sin asignar'}"></td>
                            <td th:text="${materia.cargaHoraria}"></td>
                            <td th:text="${materia.horaTotal}"></td>
                            <td th:text="${materia.fechaAlta}"></td>
                            <td>
                                <a th:href="@{/profesores/{profesorId}/eliminar-materia/{materiaId}(profesorId=${profesor.id}, materiaId=${materia.id})}"
                                    class="btn btn-eliminar" title="Eliminar materia del profesor"
                                    onclick="return confirm('¬øEst√° seguro de que desea quitar esta materia del profesor?')">
                                    üóëÔ∏è Quitar
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div th:if="${profesor == null}" class="alert alert-danger">
            <p>No se encontr√≥ el profesor solicitado.</p>
        </div>
    </div>
</body>

</html>