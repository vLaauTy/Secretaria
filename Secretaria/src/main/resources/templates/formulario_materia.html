<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Materia</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body>
    <nav class="navbar">
        <div class="navbar-logo">Instituto</div>
        <div class="navbar-links">
            <a href="/">Inicio</a>
            <a href="/alumnos">Alumnos</a>
            <a href="/profesores">Profesores</a>
            <a href="/materias">Materias</a>
            <a href="/carreras">Carreras</a>
            <a href="/logout">Cerrar sesión</a>
        </div>
    </nav>

    <div class="form-container">
        <h2>Formulario de Materia</h2>

        <form th:action="@{/materia/guardar}" th:object="${materia}" method="post">
            <!-- ID oculto para edición -->
            <input type="hidden" th:field="*{id}" />

            <div class="form-grid">
                <!-- Datos básicos -->
                <div class="form-group full-width">
                    <label for="nombre">Nombre de la Materia <span class="required">*</span></label>
                    <input type="text" id="nombre" th:field="*{nombre}" required
                        placeholder="Ingrese el nombre de la materia">
                </div>


                <div class="form-group">
                    <label for="anio">Año <span class="required">*</span></label>
                    <select id="anio" th:field="*{anio}" required>
                        <option value="">Seleccione el año</option>
                        <option value="1°">1°</option>
                        <option value="2°">2°</option>
                        <option value="3°">3°</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="cargaHoraria">Carga Horaria (horas) <span class="required">*</span></label>
                    <input type="number" id="cargaHoraria" th:field="*{cargaHoraria}" required min="1"
                        placeholder="Horas semanales">
                </div>

                <div class="form-group">
                    <label for="horaTotal">Hora Total <span class="required">*</span></label>
                    <input type="text" id="horaTotal" th:field="*{horaTotal}" required
                        placeholder="Total de horas en el período">
                </div>

                <div class="form-group">
                    <label for="fechaAlta">Fecha de Alta <span class="required">*</span></label>
                    <input type="date" id="fechaAlta" th:field="*{fechaAlta}" required>
                </div>

                <!-- Selección de carrera -->
                <div class="form-group">
                    <label for="carrera">Carrera <span class="required">*</span></label>
                    <select id="carrera" th:field="*{carrera}" required>
                        <option value="">Seleccione una carrera</option>
                        <option th:each="carrera : ${carreras}" 
                                th:value="${carrera.id}" 
                                th:text="${carrera.nombre}"
                                th:selected="${materia.carrera != null and materia.carrera.id == carrera.id}">
                        </option>
                    </select>
                </div>

            </div>

            <div class="btn-container">
                <button type="submit" class="btn btn-primary">Guardar Materia</button>
                <button type="button" class="btn btn-secondary" onclick="window.history.back()">Cancelar</button>
            </div>
        </form>
    </div>

</body>

</html>